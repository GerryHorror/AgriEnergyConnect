<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Agri-Energy Connect</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/employee-dashboard.css" />
    @RenderSection("Styles", required: false)
</head>
<body class="employee-body">
    <!-- Top header bar with the green border styling -->
    <header class="employee-header">
        <div class="header-container">
            <div class="logo">
                <svg width="36" height="32" viewBox="0 0 36 32">
                    <path d="M5,10 Q12,5 18,10 T31,10" stroke="#FFFFFF" stroke-width="2" fill="none" />
                    <path d="M0,16 Q9,8 18,16 T36,16" stroke="#FFFFFF" stroke-width="2" fill="none" />
                    <path d="M5,22 Q12,17 18,22 T31,22" stroke="#FFFFFF" stroke-width="2" fill="none" />
                </svg>
                <div class="app-name">Agri-Energy Connect</div>
            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <aside class="employee-sidebar">
        <div class="profile-section">
            <div class="admin-avatar">
                @if (ViewBag.Employee != null && ViewBag.Employee.User != null)
                {
                    @(ViewBag.Employee.User.FirstName[0].ToString() + ViewBag.Employee.User.LastName[0].ToString())
                }
                else
                {
                    <span>EM</span>
                }
            </div>
            <div class="admin-name">
                @if (ViewBag.Employee != null && ViewBag.Employee.User != null)
                {
                    @(ViewBag.Employee.User.FirstName + " " + ViewBag.Employee.User.LastName)
                }
                else
                {
                    <span>Employee Admin</span>
                }
            </div>
            <div class="admin-role">System Administrator</div>
        </div>

        <nav class="sidebar-nav">
            <ul>
                <li>
                    <a href="@Url.Action("Dashboard", "Employee")" class="@(ViewContext.RouteData.Values["Action"].ToString() == "Dashboard" ? "active" : "")">
                        <span class="nav-icon"><i class="fa fa-tachometer-alt"></i></span> Dashboard
                    </a>
                </li>
                <li>
                    <a href="@Url.Action("ManageFarmers", "Employee")" class="@(ViewContext.RouteData.Values["Action"].ToString() == "ManageFarmers" || ViewContext.RouteData.Values["Action"].ToString() == "FarmerDetails" || ViewContext.RouteData.Values["Action"].ToString() == "EditFarmer" ? "active" : "")">
                        <span class="nav-icon"><i class="fa fa-users"></i></span> Farmers
                    </a>
                </li>
                <li>
                    <a href="@Url.Action("AddFarmer", "Employee")" class="@(ViewContext.RouteData.Values["Action"].ToString() == "AddFarmer" ? "active" : "")">
                        <span class="nav-icon"><i class="fa fa-user-plus"></i></span> Add Farmer
                    </a>
                </li>
                <li>
                    <a href="@Url.Action("Products", "Employee")" class="@(ViewContext.RouteData.Values["Action"].ToString() == "Products" || ViewContext.RouteData.Values["Action"].ToString() == "ViewFarmerProducts" || ViewContext.RouteData.Values["Action"].ToString() == "ProductDetails" ? "active" : "")">
                        <span class="nav-icon"><i class="fa fa-box"></i></span> Products
                    </a>
                </li>
                <li>
                    <a href="@Url.Action("Inbox", "Message")" class="@(ViewContext.RouteData.Values["Action"].ToString() == "Inbox" || ViewContext.RouteData.Values["Action"].ToString() == "View" || ViewContext.RouteData.Values["Action"].ToString() == "Send" ? "active" : "")">
                        <span class="nav-icon"><i class="fa fa-envelope"></i></span> Messages
                    </a>
                </li>
                <li>
                    <a href="@Url.Action("RegistrationRequests", "Account")" class="@(ViewContext.RouteData.Values["Action"].ToString() == "RegistrationRequests" ? "active" : "")">
                        <span class="nav-icon"><i class="fa fa-user-check"></i></span> Registration Requests
                    </a>
                </li>
                <li>
                    <a href="#" class="@(ViewContext.RouteData.Values["Action"].ToString() == "Reports" ? "active" : "")">
                        <span class="nav-icon"><i class="fa fa-chart-bar"></i></span> Reports
                    </a>
                </li>
                <li>
                    <a href="#" class="@(ViewContext.RouteData.Values["Action"].ToString() == "Settings" ? "active" : "")">
                        <span class="nav-icon"><i class="fa fa-cog"></i></span> Settings
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        @RenderBody()
    </main>

    <!-- Logout Form -->
    <form id="logoutForm" asp-action="Logout" asp-controller="Account" method="post" style="display: none;">
        @Html.AntiForgeryToken()
    </form>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>